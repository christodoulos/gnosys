<div *ngIf="!jobID">
  <div class="p-2 flex flex-col">
    <label for="email" class="block text-sm font-medium text-gray-700"
      >Blast Case ID:</label
    >
    <div class="mt-1">
      <input
        [(ngModel)]="name"
        type="text"
        name="name"
        id="name"
        class="p-2 text-sm shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block border-gray-300"
      />
    </div>
  </div>

  <div class="p-2 flex flex-col text-sm space-y-2">
    <p class="block text-sm font-medium text-gray-700">
      Blast case parameters:
    </p>
    <form-simple-top-down [formGroup]="form"></form-simple-top-down>

    <icon-button
      (click)="onSubmit()"
      [iconkey]="'rss'"
      [text]="'Blast'"
      [notAllowed]="!form.valid && name === ''"
    ></icon-button>
  </div>
</div>

<div *ngIf="jobID">
  <div *ngIf="!completed">
    Job is running <span (click)="refresh()">Refresh</span>
  </div>
  <div *ngIf="completed" class="flex flex-col">
    Job is finished<img [src]="thumbnail" />{{ failedReason }}
    <icon-button
      (click)="reload()"
      [iconkey]="'rss'"
      [text]="'New Blast'"
    ></icon-button>
  </div>
</div>
